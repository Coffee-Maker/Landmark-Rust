category = "unit"
name = "Phantom Wisp"
cost = 1
types = ["specter", "mystical"]
health = 2

[[behavior]]
    [[behavior.trigger]]
    when = "this:was_summoned"

    [[behavior.action]]
    then = "set_counter"
    with = { target = "this", counter = "spectral_transition", amount = 3 }

[[behavior]]
    description = "After this {{keyword:unit}} has been deployed for 3 of your turns, replace this {{keyword:unit}} with a {{card:phantom}}."

    [[behavior.trigger]]
    when = "owner:turn_started"

    [[behavior.action]]
    then = "modify_counter"
    with = { target = "this", counter = "spectral_transition", amount = -1 }

[[behavior]]
    [[behavior.trigger]]
    when = "owner:turn_started"
    and = { check = "counter_equals", with = { target = "this", counter = "spectral_transition", value = 0 } }

    [[behavior.action]]
    then = "create_card"
    with = { target = "owner:hand", id = "phantom" }